import{d as x,a6 as M,r as y,J as V,b as t,a as d,F as I,$ as Y,o as p,c as J,w as r,a3 as w,j as _,e as n,u as i,a0 as O,f as j,k as z,a2 as h,t as v,K as m,aN as G,a1 as q,au as K,av as W,_ as Q}from"./index-ab608e36.js";import{u as f,P as X}from"./index-0aaf56ff.js";import{u as Z,I as ee}from"./index-40fa9771.js";import{u as ae}from"./useAuthButtons-23bf84a2.js";import{U as te}from"./UserDrawer-e6c7d6ce.js";import{a as re,b as se,j as le,c as ne,d as C,r as ie,e as T,B as oe,h as ue,i as ce}from"./user-f3bc6b08.js";import"./notData-ee3d4612.js";import"./Imgs-2353f58c.js";import"./upload-6d4f9d04.js";const de={class:"table-box"},pe=x({name:"useProTable"}),me=x({...pe,setup(fe){const P=M(),L=()=>{P.push(`/proTable/useProTable/detail/${Math.random().toFixed(3)}?params=detail-page`)},o=y(),U=V({type:1}),$=e=>({list:e.list,total:e.total,pageNum:e.pageNum,pageSize:e.pageSize}),D=e=>{let a=JSON.parse(JSON.stringify(e));return a.username&&(a.username="custom-"+a.username),ne(a)},{BUTTONS:S}=ae(),N=[{type:"selection",fixed:"left",width:80},{type:"index",label:"#",width:80},{type:"expand",label:"Expand",width:100},{prop:"username",label:"\u7528\u6237\u59D3\u540D",search:{el:"input"},render:e=>t(d("el-button"),{type:"primary",link:!0,onClick:()=>m.success("\u6211\u662F\u901A\u8FC7 tsx \u8BED\u6CD5\u6E32\u67D3\u7684\u5185\u5BB9")},{default:()=>[e.row.username]})},{prop:"gender",label:"\u6027\u522B",enum:re,search:{el:"select",props:{filterable:!0}},fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"user.detail.age",label:"\u5E74\u9F84",search:{el:"input"}},{prop:"idCard",label:"\u8EAB\u4EFD\u8BC1\u53F7",search:{el:"input"}},{prop:"email",label:"\u90AE\u7BB1"},{prop:"address",label:"\u5C45\u4F4F\u5730\u5740"},{prop:"status",label:"\u7528\u6237\u72B6\u6001",enum:se,search:{el:"tree-select",props:{filterable:!0}},fieldNames:{label:"userLabel",value:"userStatus"},render:e=>t(I,null,[S.value.status?t(d("el-switch"),{"model-value":e.row.status,"active-text":e.row.status?"\u542F\u7528":"\u7981\u7528","active-value":1,"inactive-value":0,onClick:()=>F(e.row)},null):t(d("el-tag"),{type:e.row.status?"success":"danger"},{default:()=>[e.row.status?"\u542F\u7528":"\u7981\u7528"]})])},{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",headerRender:e=>t(d("el-button"),{type:"primary",onClick:()=>{m.success("\u6211\u662F\u901A\u8FC7 tsx \u8BED\u6CD5\u6E32\u67D3\u7684\u8868\u5934")}},{default:()=>[e.label]}),width:180,search:{el:"date-picker",span:2,props:{type:"datetimerange",valueFormat:"YYYY-MM-DD HH:mm:ss"},defaultValue:["2022-11-12 11:35:00","2022-12-12 11:35:00"]}},{prop:"operation",label:"\u64CD\u4F5C",fixed:"right",width:330}],A=async e=>{await f(C,{id:[e.id]},`\u5220\u9664\u3010${e.username}\u3011\u7528\u6237`),o.value.getTableList()},B=async e=>{await f(C,{id:e},"\u5220\u9664\u6240\u9009\u7528\u6237\u4FE1\u606F"),o.value.clearSelection(),o.value.getTableList()},R=async e=>{await f(ie,{id:e.id},`\u91CD\u7F6E\u3010${e.username}\u3011\u7528\u6237\u5BC6\u7801`),o.value.getTableList()},F=async e=>{await f(le,{id:e.id,status:e.status==1?0:1},`\u5207\u6362\u3010${e.username}\u3011\u7528\u6237\u72B6\u6001`),o.value.getTableList()},E=async()=>{W.confirm("\u786E\u8BA4\u5BFC\u51FA\u7528\u6237\u6570\u636E?","\u6E29\u99A8\u63D0\u793A",{type:"warning"}).then(()=>Z(T,"\u7528\u6237\u5217\u8868",o.value.searchParam))},g=y(null),H=()=>{var a;const e={title:"\u7528\u6237",tempApi:T,importApi:oe,getTableList:o.value.getTableList};(a=g.value)==null||a.acceptParams(e)},k=y(null),b=(e,a={})=>{var c;const s={title:e,isView:e==="\u67E5\u770B",rowData:{...a},api:e==="\u65B0\u589E"?ue:e==="\u7F16\u8F91"?ce:void 0,getTableList:o.value.getTableList};(c=k.value)==null||c.acceptParams(s)};return(e,a)=>{const s=d("el-button"),c=Y("auth");return p(),J("div",de,[t(X,{ref_key:"proTable",ref:o,title:"\u7528\u6237\u5217\u8868",columns:N,requestApi:D,initParam:U,dataCallback:$},{tableHeader:r(l=>[w((p(),_(s,{type:"primary",icon:i(O),onClick:a[0]||(a[0]=u=>b("\u65B0\u589E"))},{default:r(()=>[n("\u65B0\u589E\u7528\u6237")]),_:1},8,["icon"])),[[c,"add"]]),w((p(),_(s,{type:"primary",icon:i(j),plain:"",onClick:H},{default:r(()=>[n("\u6279\u91CF\u6DFB\u52A0\u7528\u6237")]),_:1},8,["icon"])),[[c,"batchAdd"]]),w((p(),_(s,{type:"primary",icon:i(z),plain:"",onClick:E},{default:r(()=>[n("\u5BFC\u51FA\u7528\u6237\u6570\u636E")]),_:1},8,["icon"])),[[c,"export"]]),t(s,{type:"primary",plain:"",onClick:L},{default:r(()=>[n("To \u5B50\u96C6\u8BE6\u60C5\u9875\u9762")]),_:1}),t(s,{type:"danger",icon:i(h),plain:"",onClick:u=>B(l.selectedListIds),disabled:!l.isSelected},{default:r(()=>[n(" \u6279\u91CF\u5220\u9664\u7528\u6237 ")]),_:2},1032,["icon","onClick","disabled"])]),expand:r(l=>[n(v(l.row),1)]),usernameHeader:r(l=>[t(s,{type:"primary",onClick:a[1]||(a[1]=u=>i(m).success("\u6211\u662F\u901A\u8FC7\u4F5C\u7528\u57DF\u63D2\u69FD\u6E32\u67D3\u7684\u8868\u5934"))},{default:r(()=>[n(v(l.row.label),1)]),_:2},1024)]),createTime:r(l=>[t(s,{type:"primary",link:"",onClick:a[2]||(a[2]=u=>i(m).success("\u6211\u662F\u901A\u8FC7\u4F5C\u7528\u57DF\u63D2\u69FD\u6E32\u67D3\u7684\u5185\u5BB9"))},{default:r(()=>[n(v(l.row.createTime),1)]),_:2},1024)]),operation:r(l=>[t(s,{type:"primary",link:"",icon:i(G),onClick:u=>b("\u67E5\u770B",l.row)},{default:r(()=>[n("\u67E5\u770B")]),_:2},1032,["icon","onClick"]),t(s,{type:"primary",link:"",icon:i(q),onClick:u=>b("\u7F16\u8F91",l.row)},{default:r(()=>[n("\u7F16\u8F91")]),_:2},1032,["icon","onClick"]),t(s,{type:"primary",link:"",icon:i(K),onClick:u=>R(l.row)},{default:r(()=>[n("\u91CD\u7F6E\u5BC6\u7801")]),_:2},1032,["icon","onClick"]),t(s,{type:"primary",link:"",icon:i(h),onClick:u=>A(l.row)},{default:r(()=>[n("\u5220\u9664")]),_:2},1032,["icon","onClick"])]),_:1},8,["initParam"]),t(te,{ref_key:"drawerRef",ref:k},null,512),t(ee,{ref_key:"dialogRef",ref:g},null,512)])}}}),xe=Q(me,[["__file","F:/www/geeker-admin/Geeker-Admin/src/views/proTable/useProTable/index.vue"]]);export{xe as default};
