import{d as _,r as T,a as p,o as S,c as L,b as n,w as a,u as i,a0 as N,e as c,at as A,a2 as u,t as P,au as $,h as R,K as m,_ as U}from"./index-ab608e36.js";import{P as D,u as d}from"./index-0aaf56ff.js";import{a as E,b as V,c as B,d as b,r as q}from"./user-f3bc6b08.js";import"./notData-ee3d4612.js";const G={class:"table-box"},H=R("span",{style:{color:"var(--el-color-primary)"}},"\u6211\u662F\u63D2\u5165\u5728\u8868\u683C\u6700\u540E\u7684\u5185\u5BB9\u3002\u82E5\u8868\u683C\u6709\u5408\u8BA1\u884C\uFF0C\u8BE5\u5185\u5BB9\u4F1A\u4F4D\u4E8E\u5408\u8BA1\u884C\u4E4B\u4E0A\u3002",-1),M=_({name:"complexProTable"}),j=_({...M,setup(F){const l=T(),f=[{type:"selection",fixed:"left",width:80},{type:"index",label:"#",width:80},{type:"expand",label:"Expand",width:100},{prop:"base",label:"\u57FA\u672C\u4FE1\u606F",headerRender:e=>n(p("el-button"),{type:"primary",onClick:()=>{m.success("\u6211\u662F\u901A\u8FC7 tsx \u8BED\u6CD5\u6E32\u67D3\u7684\u8868\u5934")}},{default:()=>[e.label]}),_children:[{prop:"username",label:"\u7528\u6237\u59D3\u540D",width:110},{prop:"user.detail.age",label:"\u5E74\u9F84",width:100},{prop:"gender",label:"\u6027\u522B",width:100,enum:E,fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"details",label:"\u8BE6\u7EC6\u8D44\u6599",_children:[{prop:"idCard",label:"\u8EAB\u4EFD\u8BC1\u53F7"},{prop:"email",label:"\u90AE\u7BB1"},{prop:"address",label:"\u5C45\u4F4F\u5730\u5740"}]}]},{prop:"status",label:"\u7528\u6237\u72B6\u6001",tag:!0,enum:V,fieldNames:{label:"userLabel",value:"userStatus"}},{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",width:200},{prop:"operation",label:"\u64CD\u4F5C",fixed:"right",width:230}],w=()=>{l.value.element.setCurrentRow(l.value.tableData[4])},h=e=>{const{columns:r}=e,t=[];return r.forEach((s,o)=>{if(o===0)return t[o]="\u5408\u8BA1";t[o]="N/A"}),t},y=({rowIndex:e,columnIndex:r})=>{if(r===3)return e%2===0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}},g=({rowIndex:e})=>e===2?"warning-row":e===6?"success-row":"",v=(e,r)=>{r.property!="operation"&&m.success("\u5F53\u524D\u884C\u88AB\u70B9\u51FB\u4E86\uFF01")},k=async e=>{await d(b,{id:[e.id]},`\u5220\u9664\u3010${e.username}\u3011\u7528\u6237`),l.value.getTableList()},C=async e=>{await d(b,{id:e},"\u5220\u9664\u6240\u9009\u7528\u6237\u4FE1\u606F"),l.value.clearSelection(),l.value.getTableList()},x=async e=>{await d(q,{id:e.id},`\u91CD\u7F6E\u3010${e.username}\u3011\u7528\u6237\u5BC6\u7801`),l.value.getTableList()};return(e,r)=>{const t=p("el-button");return S(),L("div",G,[n(D,{ref_key:"proTable",ref:l,title:"\u7528\u6237\u5217\u8868","highlight-current-row":"",columns:f,requestApi:i(B),"row-class-name":g,"span-method":y,"show-summary":!0,"summary-method":h,onRowClick:v},{tableHeader:a(s=>[n(t,{type:"primary",icon:i(N),onClick:r[0]||(r[0]=o=>l.value.element.toggleAllSelection())},{default:a(()=>[c("\u5168\u9009 / \u5168\u4E0D\u9009")]),_:1},8,["icon"]),n(t,{type:"primary",icon:i(A),plain:"",onClick:w},{default:a(()=>[c("\u9009\u4E2D\u7B2C\u4E94\u884C")]),_:1},8,["icon"]),n(t,{type:"danger",icon:i(u),plain:"",onClick:o=>C(s.selectedListIds),disabled:!s.isSelected},{default:a(()=>[c(" \u6279\u91CF\u5220\u9664\u7528\u6237 ")]),_:2},1032,["icon","onClick","disabled"])]),expand:a(s=>[c(P(s.row),1)]),operation:a(s=>[n(t,{type:"primary",link:"",icon:i($),onClick:o=>x(s.row)},{default:a(()=>[c("\u91CD\u7F6E\u5BC6\u7801")]),_:2},1032,["icon","onClick"]),n(t,{type:"primary",link:"",icon:i(u),onClick:o=>k(s.row)},{default:a(()=>[c("\u5220\u9664")]),_:2},1032,["icon","onClick"])]),append:a(()=>[H]),_:1},8,["requestApi"])])}}});const O=U(j,[["__file","F:/www/geeker-admin/Geeker-Admin/src/views/proTable/complexProTable/index.vue"]]);export{O as default};
