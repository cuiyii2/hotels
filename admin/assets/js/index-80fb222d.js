import{P as x,i as w}from"./order-3c724f3a.js";import{d as u,h as k,i as T,r as C,o as n,j as v,f as B,w as s,b as r,t as P,c as i,e as p,n as c,E as o}from"./main-59e74578.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const D={class:"table-box"},I=u({name:"inquiry-business"}),E=u({...I,setup(M){const m=k(),d=T({type:1}),_=t=>({list:t.records,total:t.total,pageNum:t.pages,pageSize:t.size}),b=t=>{let e=JSON.parse(JSON.stringify(t));return e.username&&(e.username="custom-"+e.username),w()},f=[{prop:"orderId",label:"订单ID",width:120},{prop:"username",label:"会员"},{prop:"phone",label:"会员手机号",search:{el:"input"},labelWidth:100,width:120},{prop:"status",label:"状态",search:{el:"select"},labelWidth:100},{prop:"balance",label:"房间号"},{prop:"price",label:"房间价格",width:100},{prop:"actualCheckInTime",label:"实际入住时间",search:{el:"date-picker",props:{type:"daterange",valueFormat:"YYYY-MM-DD"},defaultValue:["2024-09-12","2024-10-12"]},width:"190px"},{prop:"planCheckInTime",label:"计划入住时间",width:190},{prop:"actualCheckOutTime",label:"实际退房时间",width:190},{prop:"planCheckOutTime",label:"计划退房时间",width:190},{prop:"operation",label:"操作",fixed:"right",width:150}],h=()=>{c.confirm("您确定办理退房手续吗?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{o({type:"success",message:"退房成功"})}).catch(()=>{o({type:"info",message:"取消退房"})})},y=()=>{c.confirm("您确定办理入住吗?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{o({type:"success",message:"办理入住成功"})}).catch(()=>{o({type:"info",message:"取消入住"})})};return(t,e)=>{const l=C("el-button");return n(),v("div",D,[B(x,{ref_key:"proTable",ref:m,title:"用户列表",columns:f,requestApi:b,initParam:d,dataCallback:_},{expand:s(a=>[r(P(a.row),1)]),operation:s(a=>[a.row.status=="已入住"?(n(),i(l,{key:0,text:"",type:"primary",onClick:e[0]||(e[0]=g=>h())},{default:s(()=>[r("办理退房")]),_:1})):p("",!0),a.row.status=="未入住"?(n(),i(l,{key:1,text:"",type:"primary",onClick:e[1]||(e[1]=g=>y())},{default:s(()=>[r("办理入住")]),_:1})):p("",!0)]),_:1},8,["initParam"])])}}});const Y=N(E,[["__scopeId","data-v-884c74f5"]]);export{Y as default};
