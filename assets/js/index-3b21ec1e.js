import{u as C,d as I}from"./user-94907be7.js";import{P as N}from"./index-8a5452c1.js";import{_ as S}from"./index.vue_vue_type_script_setup_true_name_dialogRes_lang-8c858457.js";import{o as D,b as E}from"./order-687b9245.js";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang-e4bf2f9f.js";import{b as M}from"./serviceDict-82a9115d.js";import{d as u,h as f,l as n,n as P,r as L,o as $,j as A,f as l,w as s,b as m,t as F,u as O,k as z,E as J}from"./main-5a92e9dd.js";import{_ as V}from"./mplugin-vue_export-helper-c27b6911.js";const j={class:"table-box"},B=z('<div class="tab_def_box tab_def_integral" data-v-58000afa><div class="tab_def_hd clearfix" data-v-58000afa><a href="javascript:;" class="tab_def_item current" data-v-58000afa>积分概况<b data-v-58000afa></b></a><div class="right" data-v-58000afa><a href="http://help.ctrip.com/QuestionList.aspx?parentId=10&amp;directoryId=98" target="_blank" data-v-58000afa>积分说明</a></div></div><div class="tab_def_bd" data-v-58000afa><div class="integral_status" data-v-58000afa><table data-v-58000afa><tbody data-v-58000afa><tr id="trMileageMain" data-v-58000afa><td id="tdTotalmileage" class="first" data-v-58000afa><p class="type" data-v-58000afa>当前总积分</p><p id="pTotalmileage" class="f-integral" data-v-58000afa>0</p><p id="pFrozeMileage" class="tiptext" style="display:none;" data-v-58000afa>(含：0冻结积分)</p></td><td id="tdMayExpireMileage" style="display:none;" data-v-58000afa><p class="type" data-v-58000afa>即将过期积分</p><p id="pMayExpireMileage" class="f-integral" data-v-58000afa>0</p><p class="tiptext" data-v-58000afa>(有效期在三个月内)</p></td><td class="last" data-v-58000afa><a id="aRewardsSearchPrizes" target="_blank" class="btn_03" href="https://pages.c-ctrip.com/shoppingchic/cshop/index.html" data-v-58000afa>积分兑换好礼</a></td></tr></tbody></table></div></div></div>',1),q=u({name:"user-list"}),H=u({...q,setup(Q){const o=f(),v=n({type:1}),b=a=>({list:a.records,total:a.total,pageNum:a.pageNum,pageSize:a.pageSize}),_=a=>{let e=JSON.parse(JSON.stringify(a));return e.username&&(e.username="custom-"+e.username),D()},g=[{prop:"tradeDay",label:"积分日期"},{prop:"orderType",label:"来源"},{prop:"points",label:"积分数"},{prop:"exchangePoints",label:"可兑换积分"},{prop:"dealeraid2",label:"有效期"}],y=async a=>{await C(I,{id:a},"确认删除该地址"),o.value.clearSelection(),o.value.getTableList()},r=n({tradeDay:P(),orderId:"",org:"",type:"",price:0,total:0,volume:0,action:0,tradeType:""});let x=n([{xType:"Select",label:"产品号",prop:"dealerAid",placeholder:"请选择",clearable:!0,span:24,options:M},{xType:"Input",label:"水文方名称",prop:"type",placeholder:"请填写",clearable:!0,span:24},{xType:"Input",label:"摘录文件名",prop:"dealerAid2",placeholder:"请填写",clearable:!0,span:24},{xType:"Input",label:"摘录地址",prop:"price",placeholder:"请填写",span:24},{xType:"Input",label:"摘录用户名",prop:"volume",placeholder:"请填写",span:24,rows:5},{xType:"Input",label:"摘录密码",prop:"volume",placeholder:"请填写",span:24,rows:5},{xType:"Input",label:"摘录位置",prop:"volume",placeholder:"请填写",span:24,rows:5},{xType:"Input",label:"摘录端口",prop:"volume",placeholder:"请填写",span:24,rows:5},{slotName:"Actions"}]);const h=n({}),d=f(null),T=async()=>{var e;if(!d.value)return;await((e=d.value)==null?void 0:e.formRef).validate(async(i,t)=>{if(!i)return;let c=JSON.parse(JSON.stringify(r));(await E(c)).code==0&&(J.success("添加成功！"),o.value.getTableList(),p.value=!1)})},p=f(!1),k=()=>{p.value=!1},w=a=>{a!=1&&Object.assign(r,a),p.value=!0};return(a,e)=>{const i=L("el-button");return $(),A("div",j,[B,l(N,{ref_key:"proTable",ref:o,title:"用户列表",columns:g,requestApi:_,initParam:v,dataCallback:b},{expand:s(t=>[m(F(t.row),1)]),operation:s(t=>[l(i,{link:"",onClick:e[0]||(e[0]=c=>w(1)),type:"primary"},{default:s(()=>[m("修改")]),_:1}),l(i,{link:"",onClick:c=>y(t.row),type:"danger"},{default:s(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1},8,["initParam"]),l(S,{visible:p.value,confirmName:"确认",title:"新增",onClose:e[1]||(e[1]=t=>k()),onConfirm:e[2]||(e[2]=t=>T()),width:"408px"},{default:s(()=>[l(R,{formData:r,formColumns:O(x),formRules:h,"label-width":"120px",ref_key:"baseForm",ref:d},null,8,["formData","formColumns","formRules"])]),_:1},8,["visible"])])}}});const ta=V(H,[["__scopeId","data-v-58000afa"]]);export{ta as default};
