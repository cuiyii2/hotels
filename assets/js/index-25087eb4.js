import{P as N}from"./index-8a5452c1.js";import{_ as S}from"./index.vue_vue_type_script_setup_true_name_dialogRes_lang-8c858457.js";import{d as v,h as d,l as p,n as R,r as y,o as E,j as A,f as o,w as l,b as n,t as m,a as P,u as g,E as $}from"./main-5a92e9dd.js";import{o as q,b as F}from"./order-687b9245.js";import{_ as O}from"./index.vue_vue_type_script_setup_true_lang-e4bf2f9f.js";import{g as V}from"./businessDic-7728b785.js";import{b as x}from"./serviceDict-82a9115d.js";import"./mplugin-vue_export-helper-c27b6911.js";const J={class:"table-box"},L=v({name:"user-s-list"}),W=v({...L,setup(Y){const b=d(),_=p({type:1}),T=r=>({list:r.records,total:r.total,pageNum:r.pageNum,pageSize:r.pageSize}),I=r=>{let e=JSON.parse(JSON.stringify(r));return e.username&&(e.username="custom-"+e.username),q()},h=[{prop:"orderId",label:"订单ID",width:"160px",search:{order:1,el:"input"}},{prop:"ordergroup",label:"会员ID",width:"160px",search:{el:"input"}},{prop:"orderType",label:"客房ID",width:"100px"},{prop:"symbol",label:"订单状态",width:"100px"},{prop:"tradeDay",label:"预订日期",search:{el:"date-picker",props:{type:"daterange",valueFormat:"YYYY-MM-DD"},defaultValue:["2024-09-12","2024-10-12"]}},{prop:"createTime",label:"入住日期"},{prop:"outRoomDay",label:"退房日期"}],t=p({tradeDay:R(),orderId:"",org:"",type:"",price:0,total:0,volume:0,action:0,content:[],tradeType:""});let w=p([{xType:"Input",label:"机构名称",prop:"orderId",placeholder:"请填写",clearable:!0,span:24},{xType:"Select",label:"机构类型",prop:"dealerAid",placeholder:"请填写买方经纪商",clearable:!0,span:24,options:x},{xType:"Checkbox",label:"机构标识",prop:"content",span:24,options:[{value:0,label:"钓鱼放弃会员"},{value:1,label:"连续"}]},{xType:"Input",label:"用户编码",prop:"orderId",placeholder:"请填写",clearable:!0,span:24},{xType:"Input",label:"用户名",prop:"orderId",placeholder:"请填写",clearable:!0,span:24},{xType:"Input",label:"用户姓名",prop:"orderId",placeholder:"请填写",clearable:!0,span:24},{xType:"Input",label:"身份证号",prop:"orderId",placeholder:"请填写",clearable:!0,span:24},{xType:"Input",label:"用户手机号",prop:"orderId",placeholder:"请填写",clearable:!0,span:24},{xType:"Input",label:"证书",prop:"orderId",placeholder:"请填写",clearable:!0,span:24},{xType:"Select",label:"用户类型",prop:"dealerAid2",placeholder:"请填写",clearable:!0,span:24,options:x},{xType:"Select",label:"用户状态",prop:"aid",placeholder:"请填写",clearable:!0,span:24,options:[{value:1,label:"上海方正投资"},{value:2,label:"上海大光投资"}]},{xType:"Input",label:"创建人",prop:"orderId",placeholder:"请填写",clearable:!0,span:24},{slotName:"Actions"}]);const C=p({symbol:[{required:!0,message:"请输入名字",trigger:"blur"}],price:[{required:!0,message:"请填写"}],volume:[{required:!0,message:"请选择"}],tradeDay:[{required:!0,message:"请填写"}]}),i=d(null),D=async()=>{var e;if(!i.value)return;await((e=i.value)==null?void 0:e.formRef).validate(async(u,c)=>{if(!u)return;let a=JSON.parse(JSON.stringify(t));(await F(a)).code==0&&($.success("添加成功！"),b.value.getTableList(),s.value=!1)})},s=d(!1),k=()=>{s.value=!1},f=r=>{r!=1&&Object.assign(t,r),s.value=!0};return(r,e)=>{const u=y("el-tag"),c=y("el-button");return E(),A("div",J,[o(N,{ref_key:"proTable",ref:b,title:"用户列表",columns:h,requestApi:I,initParam:_,dataCallback:T},{expand:l(a=>[n(m(a.row),1)]),action:l(a=>[P("span",null,m(g(V)(a.row.action)),1)]),symbol:l(a=>[o(u,null,{default:l(()=>[n(m(a.row.symbol),1)]),_:2},1024)]),operation:l(()=>[o(c,{link:"",onClick:e[0]||(e[0]=a=>f(1)),type:"primary"},{default:l(()=>[n("修改")]),_:1}),o(c,{link:"",onClick:e[1]||(e[1]=a=>f(1)),type:"primary"},{default:l(()=>[n("详情")]),_:1})]),_:1},8,["initParam"]),o(S,{visible:s.value,confirmName:"保存",title:"修改",onClose:e[2]||(e[2]=a=>k()),onConfirm:e[3]||(e[3]=a=>D()),width:"408px"},{default:l(()=>[o(O,{formData:t,formColumns:g(w),formRules:C,"label-width":"120px",ref_key:"baseForm",ref:i},null,8,["formData","formColumns","formRules"])]),_:1},8,["visible"])])}}});export{W as default};
