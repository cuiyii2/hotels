import{d as N,y as R,G as T,h as g,l as v,z as h,r as a,o as j,j as A,f as e,w as s,a as u,b as B,F as E,A as L,H as U,B as z,C as K,D as M,I as q}from"./main-5a92e9dd.js";import{T as D,K as G}from"./keepAlive-72212048.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const O=r=>(M("data-v-a1e7622e"),r=r(),q(),r),P=O(()=>u("div",{class:"login-logo"},[u("p",{class:"logo-disc"},"酒店预订与管理系统")],-1)),$={class:"login-btn"},J=N({__name:"LoginForm",emits:["forget"],setup(r,{emit:w}){const k=R(),y=D(),b=G(),d=T(),c=g(),S=v({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),l=g(!1),n=v({username:"",password:""}),p=o=>{o&&o.validate(async t=>{if(t){l.value=!0;try{d.setToken("token332j324k3jk434j34343"),d.setUserInfo({username:"jack",user_id:302}),await L(),y.closeMultipleTab(),b.setKeepAliveName(),k.push(U),z({title:K(),message:"欢迎登录 酒店预订与管理系统",type:"success",duration:3e3})}finally{l.value=!1}}})};h(()=>{document.onkeydown=o=>{if(o=window.event||o,o.code==="Enter"||o.code==="enter"||o.code==="NumpadEnter"){if(l.value)return;p(c.value)}}});const V=()=>{w("forget")};return(o,t)=>{const x=a("user"),_=a("el-icon"),m=a("el-input"),f=a("el-form-item"),F=a("lock"),C=a("el-form"),I=a("el-button");return j(),A(E,null,[P,e(C,{ref_key:"loginFormRef",ref:c,model:n,rules:S,size:"large"},{default:s(()=>[e(f,{prop:"username"},{default:s(()=>[e(m,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=i=>n.username=i),placeholder:"请输入用户名"},{prefix:s(()=>[e(_,{class:"el-input__icon"},{default:s(()=>[e(x)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{prop:"password"},{default:s(()=>[e(m,{type:"password",modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=i=>n.password=i),placeholder:"请输入密码","show-password":"",autocomplete:"new-password"},{prefix:s(()=>[e(_,{class:"el-input__icon"},{default:s(()=>[e(F)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),u("div",$,[u("span",{class:"forget",onClick:V},"忘记密码"),e(I,{round:"",onClick:t[2]||(t[2]=i=>p(c.value)),size:"large",type:"primary",loading:l.value},{default:s(()=>[B(" 登录 ")]),_:1},8,["loading"])])],64)}}});const Y=H(J,[["__scopeId","data-v-a1e7622e"]]);export{Y as default};
