import{u as m,d as v}from"./user-94907be7.js";import{P as D}from"./index-8a5452c1.js";import{o as B}from"./order-687b9245.js";import{_ as J}from"./index.vue_vue_type_script_setup_true_name_dialogRes_lang-8c858457.js";import{d as y,h as c,l as R,r as i,o as b,j as g,f as t,w as e,b as s,t as F,a as _,F as H,J as U,D as j,I as q}from"./main-5a92e9dd.js";import{_ as A}from"./mplugin-vue_export-helper-c27b6911.js";const w=r=>(j("data-v-8f32258d"),r=r(),q(),r),E={class:"table-box"},G=w(()=>_("div",{class:"el-upload__tip"},"可以支持.doc和.pdf 格式",-1)),K={class:"file-list"},M=w(()=>_("p",{class:"text"},"用户操作手册.doc",-1)),Q=y({name:"user-list"}),W=y({...Q,setup(r){const p=c(),x=R({type:1}),k=a=>({list:a.records,total:a.total,pageNum:a.pageNum,pageSize:a.pageSize}),C=a=>{let o=JSON.parse(JSON.stringify(a));return o.username&&(o.username="custom-"+o.username),B()},S=[{prop:"orderId",label:"创建时间",width:"120px"},{prop:"ordergroup",label:"用户协议"},{prop:"orderType",label:"创建用户"},{prop:"applyid",label:"发布时间"},{prop:"applyid",label:"发布用户",width:"100px"},{prop:"applyid",label:"状态",width:"100px"},{prop:"operation",label:"操作",fixed:"right",width:150}],h=async a=>{await m(v,{id:a},"确认删除该记录"),p.value.clearSelection(),p.value.getTableList()},N=async a=>{await m(v,{id:a},"确认发布该用户协议，该用户协议发布后，原已发布用户协议将失效"),p.value.clearSelection(),p.value.getTableList()},f=c(""),T=[{value:"Option1",label:"用户操作手册"},{value:"Option2",label:"常见问题"},{value:"Option3",label:"联系我们"},{value:"Option4",label:"用户协议"}],u=c(!1),V=()=>{u.value=!1},I=()=>{u.value=!0};return(a,o)=>{const n=i("el-button"),d=i("el-col"),O=i("el-upload"),P=i("el-option"),$=i("el-select"),L=i("el-row");return b(),g("div",E,[t(D,{ref_key:"proTable",ref:p,title:"用户协议管理",columns:S,requestApi:C,initParam:x,dataCallback:k},{tableHeader:e(()=>[t(n,{icon:"plus",onClick:o[0]||(o[0]=l=>I(1))},{default:e(()=>[s("新增")]),_:1})]),expand:e(l=>[s(F(l.row),1)]),operation:e(l=>[t(n,{link:"",onClick:z=>N(l.row),type:"primary"},{default:e(()=>[s("发布")]),_:2},1032,["onClick"]),t(n,{link:"",onClick:z=>h(l.row),type:"danger"},{default:e(()=>[s("删除")]),_:2},1032,["onClick"])]),_:1},8,["initParam"]),t(J,{visible:u.value,confirmName:"提交",title:"新增",onClose:o[2]||(o[2]=l=>V()),onConfirm:o[3]||(o[3]=l=>a.orgRigist()),width:"60%"},{default:e(()=>[t(L,{class:"setting-row"},{default:e(()=>[t(d,{span:24},{default:e(()=>[s("上传附件")]),_:1}),t(d,{span:24},{default:e(()=>[t(O,{ref:"uploadRef",class:"upload-demo",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","auto-upload":!1},{trigger:e(()=>[t(n,{type:"primary",icon:"plus"},{default:e(()=>[s("上传附件")]),_:1})]),tip:e(()=>[G]),default:e(()=>[_("div",K,[M,t(n,{text:"",type:"primary",size:"small"},{default:e(()=>[s("预览")]),_:1}),t(n,{text:"",type:"danger"},{default:e(()=>[s("删除")]),_:1})])]),_:1},512)]),_:1}),t(d,{span:24},{default:e(()=>[s("选择文件类型")]),_:1}),t(d,{span:12},{default:e(()=>[t($,{modelValue:f.value,"onUpdate:modelValue":o[1]||(o[1]=l=>f.value=l),class:"m-2",placeholder:"Select",size:"large"},{default:e(()=>[(b(),g(H,null,U(T,l=>t(P,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"])])}}});const ae=A(W,[["__scopeId","data-v-8f32258d"]]);export{ae as default};
