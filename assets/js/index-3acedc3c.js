import{P}from"./index-8a5452c1.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_name_dialogRes_lang-8c858457.js";import{_ as F}from"./index.vue_vue_type_script_setup_true_name_dialogRes_lang-fd36c8ac.js";import{d as h,h as i,l as t,n as O,r as x,o as V,j as J,f as a,w as o,b as u,t as c,a as L,u as f,E as B}from"./main-5a92e9dd.js";import{a as j,b as z}from"./order-687b9245.js";import{_}from"./index.vue_vue_type_script_setup_true_lang-e4bf2f9f.js";import{g as M}from"./businessDic-7728b785.js";import{b as w}from"./serviceDict-82a9115d.js";import"./mplugin-vue_export-helper-c27b6911.js";const U={class:"table-box"},W=h({name:"orgs-li-list"}),ae=h({...W,setup(G){const g=i(),T=t({type:1}),C=l=>({list:l.records,total:l.total,pageNum:l.pageNum,pageSize:l.pageSize}),I=l=>{let e=JSON.parse(JSON.stringify(l));return e.username&&(e.username="custom-"+e.username),j()},k=[{prop:"orderId",label:"机构编码",width:"120px",search:{order:1,el:"input"}},{prop:"orderId",label:"机构名称",width:"120px",search:{order:1,el:"input"}},{prop:"ordergroup",label:"机构类型",width:"120px",search:{el:"input"}},{prop:"orderType",label:"机构标识",width:"120px"},{prop:"org",label:"用户数",labelWidth:90,search:{el:"input"},width:"100px"},{prop:"symbol",label:"营业执照",width:"100px"},{prop:"symbol",label:"地址",width:"100px"},{prop:"symbol",label:"联系方式",width:"100px"},{prop:"applyid",label:"机构状态",width:"100px"},{prop:"operation",label:"操作",fixed:"right",width:100}],s=t({tradeDay:O(),orderId:"",org:"",type:"",price:0,total:0,volume:0,action:0,tradeType:""});let N=t([{xType:"Input",label:"机构编码",prop:"orderId",placeholder:"请填写",clearable:!0,span:12},{xType:"Input",label:"机构名称",prop:"orderId",placeholder:"请填写",clearable:!0,span:12},{xType:"Select",label:"机构类型",prop:"dealerAid",placeholder:"请填写买方经纪商",clearable:!0,span:12,options:w},{xType:"Checkbox",label:"机构标识",prop:"content",span:12,options:[{value:"0",label:"钓鱼放弃会员"},{value:"1",label:"连续"}]},{xType:"Input",label:"用户数",prop:"orderId",placeholder:"请填写",clearable:!0,span:12},{xType:"Input",label:"营业执照号",prop:"orderId",placeholder:"请填写",clearable:!0,span:12},{xType:"Input",label:"地址",prop:"orderId",placeholder:"请填写",clearable:!0,span:12},{xType:"Input",label:"联系方式",prop:"orderId",placeholder:"请填写",clearable:!0,span:12},{xType:"Select",label:"机构状态",prop:"dealerAid2",placeholder:"请填写",clearable:!0,span:12,options:w},{slotName:"Actions"}]);const y=t({symbol:[{required:!0,message:"请输入名字",trigger:"blur"}],price:[{required:!0,message:"请填写"}],volume:[{required:!0,message:"请选择"}],tradeDay:[{required:!0,message:"请填写"}]}),p=i(null),v=async()=>{var e;if(!p.value)return;await((e=p.value)==null?void 0:e.formRef).validate(async(d,b)=>{if(!d)return;let r=JSON.parse(JSON.stringify(s));(await z(r)).code==0&&(B.success("添加成功！"),g.value.getTableList(),n.value=!1)})},D=t({org1:[],org2:1});let R=t([{xType:"Checkbox",label:"机构标识",prop:"org1",span:24,options:[{value:"0",label:"钓鱼放弃会员"},{value:"1",label:"连续"}]},{xType:"Radio",label:"机构状态",prop:"org2",span:24,options:[{value:1,label:"正常"},{value:2,label:"锁定"}]},{slotName:"Actions"}]);const n=i(!1),m=i(!1),S=()=>{n.value=!1},$=()=>{m.value=!1},A=l=>{n.value=!0},E=l=>{l!=1&&Object.assign(s,l),m.value=!0};return(l,e)=>{const d=x("el-tag"),b=x("el-button");return V(),J("div",U,[a(P,{ref_key:"proTable",ref:g,title:"用户列表",columns:k,requestApi:I,initParam:T,dataCallback:C},{expand:o(r=>[u(c(r.row),1)]),action:o(r=>[L("span",null,c(f(M)(r.row.action)),1)]),orderType:o(r=>[a(d,null,{default:o(()=>[u(c(r.row.orderType==1?"爬树普通上山":"-"),1)]),_:2},1024)]),operation:o(()=>[a(b,{link:"",onClick:e[0]||(e[0]=r=>A(1)),type:"primary"},{default:o(()=>[u("修改")]),_:1}),a(b,{link:"",onClick:e[1]||(e[1]=r=>E(1)),type:"primary"},{default:o(()=>[u("详情")]),_:1})]),_:1},8,["initParam"]),a(F,{visible:n.value,confirmName:"保存",title:"修改",onClose:e[2]||(e[2]=r=>S()),onConfirm:e[3]||(e[3]=r=>v()),width:"480px"},{default:o(()=>[a(_,{formData:D,formColumns:f(R),formRules:y,"label-width":"120px",ref_key:"baseForm",ref:p},null,8,["formData","formColumns","formRules"])]),_:1},8,["visible"]),a(q,{visible:m.value,confirmName:"保存",title:"详情",onClose:e[4]||(e[4]=r=>$()),onConfirm:e[5]||(e[5]=r=>v()),width:"60%"},{default:o(()=>[a(_,{formData:s,formColumns:f(N),formRules:y,"label-width":"120px",ref_key:"baseForm",ref:p},null,8,["formData","formColumns","formRules"])]),_:1},8,["visible"])])}}});export{ae as default};
